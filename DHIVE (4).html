<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DHIVE - AI Marketplace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff;
            color: #333;
            min-height: 100vh;
        }

        /* Navigation */
        .navbar {
            background: white;
            border-bottom: 2px solid #f0f0f0;
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            gap: 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .logo-text {
            color: #333;
        }

        .search-container {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: #333;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: color 0.3s;
            border: none;
            background: none;
            padding: 8px 0;
            white-space: nowrap;
        }

        .nav-link:hover {
            color: #3b82f6;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 24px;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        /* Cart Panel */
        .cart-panel {
            position: fixed;
            right: 0;
            top: 0;
            width: 350px;
            height: 100vh;
            background: white;
            border-left: 2px solid #e0e0e0;
            padding: 20px;
            overflow-y: auto;
            transform: translateX(400px);
            transition: transform 0.3s;
            z-index: 1000;
        }

        .cart-panel.open {
            transform: translateX(0);
        }

        .cart-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }

        .cart-item {
            background: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
        }

        .cart-total {
            border-top: 2px solid #e0e0e0;
            padding-top: 15px;
            margin-top: 15px;
            font-weight: 700;
            font-size: 16px;
        }

        /* Chatbot */
        .chatbot-bubble {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            z-index: 99;
            transition: all 0.3s;
        }

        .chatbot-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
        }

        .chatbot-panel {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            background: white;
            border: 2px solid #3b82f6;
            border-radius: 12px;
            display: none;
            flex-direction: column;
            max-height: 500px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            z-index: 99;
        }

        .chatbot-panel.open {
            display: flex;
        }

        .chatbot-header {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chatbot-message {
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.4;
            max-width: 85%;
        }

        .chatbot-message.bot {
            background: #f0f0f0;
            color: #333;
            align-self: flex-start;
        }

        .chatbot-message.user {
            background: #3b82f6;
            color: white;
            align-self: flex-end;
        }

        .chatbot-input {
            display: flex;
            gap: 8px;
            padding: 12px;
            border-top: 1px solid #e0e0e0;
        }

        .chatbot-input input {
            flex: 1;
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 13px;
        }

        .chatbot-input button {
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 12px;
            cursor: pointer;
            font-weight: 600;
        }

        .chatbot-input button:hover {
            background: #2563eb;
        }

        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            color: #666;
        }

        /* Filters */
        .filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 10px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-select:hover {
            border-color: #3b82f6;
        }

        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 25px;
            margin-bottom: 60px;
        }

        .product-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            border-color: #3b82f6;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
            transform: translateY(-5px);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }

        .product-badge.trending {
            background: #f59e0b;
        }

        .product-badge.premium {
            background: #8b5cf6;
        }

        .product-badge.special {
            background: #ef4444;
        }

        .product-icon {
            font-size: 40px;
            margin-bottom: 12px;
        }

        .product-name {
            font-weight: 700;
            color: #333;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .product-category {
            font-size: 12px;
            color: #3b82f6;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .product-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 12px;
            line-height: 1.4;
            min-height: 32px;
        }

        .product-price {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            margin-bottom: 4px;
        }

        .product-original-price {
            font-size: 13px;
            color: #999;
            text-decoration: line-through;
            margin-left: 8px;
        }

        .product-seller {
            font-size: 12px;
            color: #999;
            margin-bottom: 12px;
        }

        .product-actions {
            display: flex;
            gap: 8px;
        }

        .product-actions button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
            border: 1px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #e8e8e8;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1001;
            align-items: center;
            justify-content: center;
        }

        .modal.open {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 28px;
            cursor: pointer;
            color: #999;
            background: none;
            border: none;
        }

        .modal-close:hover {
            color: #333;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #333;
        }

        .product-detail-section {
            margin-bottom: 20px;
        }

        .product-detail-label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .product-detail-text {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
        }

        .integration-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .integration-tag {
            background: #f0f0f0;
            color: #333;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            border: 1px solid #e0e0e0;
        }

        .payment-modal-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .payment-modal-buttons button {
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        /* Footer */
        .footer {
            background: #f9f9f9;
            border-top: 2px solid #e0e0e0;
            padding: 30px 20px;
            text-align: center;
            color: #999;
            font-size: 13px;
        }

        .powered-by {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .powered-by a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 600;
        }

        .powered-by a:hover {
            text-decoration: underline;
        }

        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .login-form {
            max-width: 400px;
            margin: 40px auto;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 30px;
        }

        .form-tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .form-tabs button {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .form-tabs button.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        @media (max-width: 768px) {
            .navbar-content {
                flex-wrap: wrap;
            }

            .search-container {
                order: 3;
                flex-basis: 100%;
                min-width: unset;
                max-width: 100%;
                margin-top: 10px;
            }

            .nav-links {
                order: 2;
                width: 100%;
                margin-top: 10px;
                justify-content: space-between;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 15px;
            }

            .cart-panel {
                width: 300px;
            }
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f0f0f0;
        }

        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }

        .hidden {
            display: none;
        }

        .free-badge {
            color: #22c55e;
            font-weight: 700;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div class="navbar">
        <div class="navbar-content">
            <div class="logo" onclick="app.goHome()">
                <span class="logo-text">DHIVE</span>
            </div>

            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search AI tools, templates, courses...">
            </div>

            <div class="nav-links">
                <button class="nav-link" onclick="app.goToPage('sell')">Sell Your Items</button>
                <button class="nav-link" onclick="app.goToPage('build')">Build AI Tool</button>
                <button class="nav-link" onclick="app.goToPage('support')">Support</button>
                <button class="nav-link" onclick="app.toggleWishlist()" style="display: flex; align-items: center; gap: 5px;">
                    Wishlist <span id="wishlistCount" style="background: #ef4444; color: white; width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; display: none;">0</span>
                </button>
                <button class="nav-link" id="userNameDisplay" style="display: none;"></button>
                <button class="nav-link" onclick="app.goToPage('login')" id="signInBtn">Sign In</button>
                <div class="cart-icon" onclick="app.toggleCart()">
                    üõí
                    <span class="cart-count" id="cartCount" style="display: none;">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <div id="app"></div>
    </div>

    <!-- Cart Panel -->
    <div class="cart-panel" id="cartPanel">
        <button class="cart-close" onclick="app.toggleCart()">‚úï</button>
        <h2 style="margin-bottom: 20px; margin-top: 10px;">Shopping Cart</h2>
        <div id="cartItems"></div>
        <div class="cart-total" style="margin-top: 20px;">
            Total: <span id="cartTotal">R0</span>
        </div>
        <button class="btn-primary" style="width: 100%; margin-top: 20px; padding: 12px;" onclick="app.checkout()">Proceed to Checkout</button>
    </div>

    <!-- Wishlist Panel -->
    <div class="cart-panel" id="wishlistPanel">
        <button class="cart-close" onclick="app.toggleWishlist()">‚úï</button>
        <h2 style="margin-bottom: 20px; margin-top: 10px;">‚ù§Ô∏è Wishlist</h2>
        <div id="wishlistItems"></div>
    </div>

    <!-- AI Chatbot -->
    <div class="chatbot-bubble" onclick="app.toggleChatbot()">üí¨</div>
    
    <div class="chatbot-panel" id="chatbotPanel">
        <div class="chatbot-header">
            <div>DHIVE AI Assistant</div>
            <button class="chat-close" onclick="app.toggleChatbot()" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer;">‚úï</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chatbot-message bot">Hi! I'm DHIVE AI. How can I help? Ask about products, pricing, or implementation!</div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Ask me anything...">
            <button onclick="app.sendChatMessage()">Send</button>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="productDetailModal">
        <div class="modal-content">
            <button class="modal-close" onclick="document.getElementById('productDetailModal').classList.remove('open')">‚úï</button>
            <div id="productDetailContent"></div>
        </div>
    </div>

    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <button class="modal-close" onclick="document.getElementById('paymentModal').classList.remove('open')">‚úï</button>
            <h2 class="modal-title">Complete Your Order</h2>
            
            <div style="margin-bottom: 20px;">
                <p style="color: #666; font-size: 14px; margin-bottom: 15px;">Please provide your details so we can contact you with more information:</p>
                
                <form id="checkoutForm" style="display: flex; flex-direction: column; gap: 12px;">
                    <input type="text" id="checkoutName" placeholder="Full Name" required style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                    <input type="email" id="checkoutEmail" placeholder="Email Address" required style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                    <input type="tel" id="checkoutPhone" placeholder="Phone Number" required style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                    <input type="text" id="checkoutCompany" placeholder="Company Name" required style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                    <textarea id="checkoutMessage" placeholder="Any special requirements or questions?" rows="3" style="padding: 12px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px; font-family: inherit;"></textarea>
                </form>
            </div>

            <div style="background: #f9f9f9; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                <p style="font-weight: 600; margin-bottom: 10px; font-size: 14px;">Order Summary:</p>
                <div id="checkoutSummary" style="font-size: 13px; color: #666;"></div>
            </div>

            <div class="payment-modal-buttons">
                <button class="btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="app.submitCheckout()">‚úâÔ∏è Send Order Request</button>
                <button class="btn-secondary" style="width: 100%; border: 2px solid #e0e0e0;" onclick="document.getElementById('paymentModal').classList.remove('open')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="powered-by">
            Powered by <a href="#" onclick="alert('BoschTech - South African AI Solutions')">BoschTech</a>
        </div>
    </div>

    <script>
        const PRODUCTS = [
            // Free Product
            { id: 0, name: 'Free AI Audit Tool', category: 'Free Tools', price: 0, currency: 'ZAR', icon: 'üîç', desc: 'Identify where AI fits best in your business', seller: 'DHIVE', trending: false, premium: false, special: false, integrations: ['Email', 'Web Form', 'Dashboard'] },
            
            // Regular Products
            { id: 1, name: 'Lead Generation Chatbot', category: 'AI & Automation', price: 2500, currency: 'ZAR', icon: 'ü§ñ', desc: 'WhatsApp lead qualifier for businesses', seller: 'DHIVE', trending: true, premium: false, special: false, integrations: ['WhatsApp', 'Telegram', 'Web Chat'] },
            { id: 2, name: 'Email Marketing Template', category: 'Templates', price: 199, currency: 'ZAR', icon: 'üìß', desc: 'Professional HTML email templates', seller: 'TemplateHub', trending: false, premium: false, special: true, originalPrice: 299, integrations: ['Gmail', 'Mailchimp', 'ConvertKit'] },
            { id: 3, name: 'Python Web Development', category: 'Online Courses', price: 599, currency: 'ZAR', icon: 'üêç', desc: 'Complete beginner to advanced course', seller: 'CodeMaster', trending: false, premium: false, special: false, integrations: ['Udemy', 'Self-Hosted'] },
            { id: 4, name: 'Customer Support AI Bot', category: 'AI & Automation', price: 3500, currency: 'ZAR', icon: 'üí¨', desc: '24/7 automated customer support', seller: 'DHIVE', trending: true, premium: false, special: false, integrations: ['Facebook Messenger', 'Slack', 'WhatsApp'] },
            { id: 5, name: 'Affiliate Marketing Ebook', category: 'Ebooks', price: 99, currency: 'ZAR', icon: 'üìö', desc: '200-page comprehensive guide', seller: 'MarketingGuru', trending: false, premium: false, special: false, integrations: ['PDF', 'Email'] },
            { id: 6, name: 'Job Application Automation', category: 'AI & Automation', price: 499, currency: 'ZAR', icon: 'üéØ', desc: 'Auto-apply to 100+ jobs daily', seller: 'JobHelper', trending: true, premium: false, special: false, integrations: ['LinkedIn', 'Indeed', 'Email'] },
            { id: 7, name: 'WordPress SEO Plugin', category: 'Plugins', price: 79, currency: 'ZAR', icon: 'üîç', desc: 'Boost your site rankings automatically', seller: 'PluginCentral', trending: false, premium: false, special: true, originalPrice: 149, integrations: ['WordPress', 'Google Search Console'] },
            { id: 8, name: 'Social Media Scheduler', category: 'Subscriptions', price: 299, currency: 'ZAR', icon: 'üì±', desc: 'Monthly social media management', seller: 'SocialManager', trending: false, premium: false, special: false, integrations: ['Instagram', 'Twitter', 'LinkedIn', 'Facebook'] },
            { id: 9, name: 'Content Writing AI', category: 'AI & Automation', price: 1999, currency: 'ZAR', icon: '‚úçÔ∏è', desc: 'SEO-optimized article generator', seller: 'WritePro', trending: true, premium: false, special: false, integrations: ['WordPress', 'Medium', 'Email'] },
            { id: 10, name: 'Excel Dashboard Templates', category: 'Templates', price: 149, currency: 'ZAR', icon: 'üìà', desc: '20+ ready-to-use dashboards', seller: 'ExcelPro', trending: false, premium: false, special: false, integrations: ['Excel', 'Google Sheets'] },
            { id: 11, name: 'Email Sequence Automation', category: 'AI & Automation', price: 1299, currency: 'ZAR', icon: 'üì¨', desc: 'Automated nurture campaigns', seller: 'EmailPro', trending: false, premium: false, special: false, integrations: ['Mailchimp', 'ActiveCampaign', 'ConvertKit'] },
            { id: 12, name: 'Lead Scoring Engine', category: 'AI & Automation', price: 2999, currency: 'ZAR', icon: '‚≠ê', desc: 'Qualify leads automatically with AI', seller: 'SalesAI', trending: false, premium: false, special: false, integrations: ['Salesforce', 'HubSpot', 'Pipedrive'] },
            { id: 13, name: 'Time Tracking Bot', category: 'AI & Automation', price: 599, currency: 'ZAR', icon: '‚è±Ô∏è', desc: 'Automatic time logging for teams', seller: 'ProductivityTools', trending: false, premium: false, special: true, originalPrice: 899, integrations: ['Slack', 'Teams', 'Email'] },
            { id: 14, name: 'Interview Prep AI', category: 'AI & Automation', price: 399, currency: 'ZAR', icon: 'üé§', desc: 'Practice with AI interviewer', seller: 'CareerBoost', trending: false, premium: false, special: false, integrations: ['Video Call', 'Email', 'PDF Export'] },
            { id: 15, name: 'Customer Sentiment Analyzer', category: 'AI & Automation', price: 1799, currency: 'ZAR', icon: 'üòä', desc: 'Analyze customer emotions in real-time', seller: 'SentimentAI', trending: false, premium: false, special: false, integrations: ['Twitter', 'Facebook', 'Email', 'Surveys'] },
            { id: 21, name: 'B2B Sales Quote Manager', category: 'Plugins', price: 800, currency: 'USD', icon: 'üìã', desc: 'Plug & play sales tool for B2B quote generation and approval', seller: 'DHIVE', trending: false, premium: false, special: false, integrations: ['Email', 'WhatsApp', 'CRM', 'Admin Dashboard'] },

            // Premium Products (USD)
            { id: 16, name: 'Enterprise CRM with AI', category: 'AI & Automation', price: 699, currency: 'USD', icon: 'ü§ù', desc: 'Full CRM system with AI insights', seller: 'EnterpriseAI', trending: false, premium: true, special: false, integrations: ['Salesforce', 'HubSpot', 'Custom CRM', 'Email', 'Calendar'] },
            { id: 17, name: 'Custom AI Solution (Basic)', category: 'AI & Automation', price: 799, currency: 'USD', icon: '‚öôÔ∏è', desc: 'Custom-built AI solution for your business', seller: 'DHIVE', trending: false, premium: true, special: false, integrations: ['Any Platform', 'Custom Integration', 'API'] },
            { id: 18, name: 'Advanced Data Analytics', category: 'AI & Automation', price: 899, currency: 'USD', icon: 'üìä', desc: 'Complex data analysis and visualization', seller: 'DataDriven', trending: false, premium: true, special: false, integrations: ['PostgreSQL', 'MongoDB', 'BigQuery', 'Power BI', 'Tableau'] },
            { id: 19, name: 'Custom AI Solution (Advanced)', category: 'AI & Automation', price: 1299, currency: 'USD', icon: 'üöÄ', desc: 'Advanced custom-built AI system', seller: 'DHIVE', trending: false, premium: true, special: false, integrations: ['Any Platform', 'Custom Integration', 'API', 'Machine Learning'] },
            { id: 20, name: 'Enterprise AI Suite', category: 'AI & Automation', price: 1999, currency: 'USD', icon: 'üè¢', desc: 'Complete enterprise automation solution', seller: 'EnterpriseAI', trending: false, premium: true, special: false, integrations: ['All Platforms', 'Custom Integration', 'Multi-Team', 'API', 'Custom Reports'] }
        ];

        class DHIVEApp {
            constructor() {
                this.state = {
                    page: 'marketplace',
                    cart: [],
                    user: null,
                    chatOpen: false,
                    wishlist: [],
                    userProducts: [],
                    productRatings: {
                        1: { rating: 4.8, reviews: 234 },
                        2: { rating: 4.5, reviews: 156 },
                        4: { rating: 4.9, reviews: 345 },
                        6: { rating: 4.3, reviews: 89 },
                        9: { rating: 4.7, reviews: 201 },
                        12: { rating: 4.6, reviews: 178 },
                        16: { rating: 4.8, reviews: 92 },
                        19: { rating: 4.9, reviews: 67 },
                        21: { rating: 4.6, reviews: 45 }
                    }
                };
                this.render();
                this.setupEventListeners();
            }

            setState(updates) {
                this.state = { ...this.state, ...updates };
                this.render();
                this.setupEventListeners();
            }

            setupEventListeners() {
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.addEventListener('keyup', () => this.filterProducts());
                }
                const chatInput = document.getElementById('chatbotInput');
                if (chatInput) {
                    chatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') this.sendChatMessage();
                    });
                }
            }

            goHome() {
                this.setState({ page: 'marketplace' });
            }

            goToPage(page) {
                if (!this.state.user && page !== 'marketplace') {
                    this.setState({ page: 'login' });
                    return;
                }
                this.setState({ page });
            }

            toggleCart() {
                document.getElementById('cartPanel').classList.toggle('open');
            }

            toggleWishlist() {
                document.getElementById('wishlistPanel').classList.toggle('open');
                this.updateWishlist();
            }

            toggleWishlist() {
                document.getElementById('wishlistPanel').classList.toggle('open');
                this.updateWishlist();
            }

            updateUserDisplay() {
                const userNameDisplay = document.getElementById('userNameDisplay');
                const signInBtn = document.getElementById('signInBtn');
                if (this.state.user) {
                    userNameDisplay.textContent = `Hi, ${this.state.user.name}`;
                    userNameDisplay.style.display = 'block';
                    signInBtn.textContent = 'Logout';
                    signInBtn.onclick = () => this.logout();
                } else {
                    userNameDisplay.style.display = 'none';
                    signInBtn.textContent = 'Sign In';
                    signInBtn.onclick = () => this.goToPage('login');
                }
            }

            logout() {
                this.state.user = null;
                this.setState({ page: 'marketplace' });
                this.updateUserDisplay();
            }

            sendChatMessage() {
                const input = document.getElementById('chatbotInput');
                if (!input.value.trim()) return;

                const message = input.value.trim();
                const messagesDiv = document.getElementById('chatbotMessages');

                messagesDiv.innerHTML += `<div class="chatbot-message user">${this.escapeHtml(message)}</div>`;

                let botResponse = this.getChatbotResponse(message);
                messagesDiv.innerHTML += `<div class="chatbot-message bot">${botResponse}</div>`;
                
                input.value = '';
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }

            getChatbotResponse(message) {
                const msg = message.toLowerCase();

                if (msg.includes('free')) return 'Check out our Free AI Audit Tool - no credit card needed!';
                if (msg.includes('trending')) return 'Our trending products: Lead Gen Chatbot, Customer Support Bot, Content Writing AI, and Job Automation!';
                if (msg.includes('premium') || msg.includes('custom')) return 'Premium solutions start at $699 USD for enterprise-grade AI systems. Need help? Check Support & Implementation!';
                if (msg.includes('price') || msg.includes('cost')) return 'Prices range from Free to R3,500 ZAR, plus premium solutions up to $1,999 USD for custom builds!';
                if (msg.includes('help') || msg.includes('implement') || msg.includes('support')) return 'Use our Support & Implementation page to submit your requirements. We\'ll help you find the perfect solution!';
                if (msg.includes('integration')) return 'Our tools integrate with WhatsApp, Slack, Salesforce, HubSpot, and many more platforms!';
                
                return 'I can help with info on products, pricing, features, and support. Try asking about trending tools or custom solutions!';
            }

            addToCart(product) {
                const existing = this.state.cart.find(p => p.id === product.id);
                if (existing) {
                    existing.quantity++;
                } else {
                    this.state.cart.push({ ...product, quantity: 1 });
                }
                this.updateCart();
            }

            updateCart() {
                const count = this.state.cart.reduce((sum, p) => sum + p.quantity, 0);
                const total = this.state.cart.reduce((sum, p) => {
                    const priceInZAR = p.currency === 'USD' ? p.price * 18 : p.price;
                    return sum + (priceInZAR * p.quantity);
                }, 0);

                document.getElementById('cartCount').textContent = count;
                document.getElementById('cartCount').style.display = count > 0 ? 'flex' : 'none';

                const cartItemsDiv = document.getElementById('cartItems');
                if (this.state.cart.length === 0) {
                    cartItemsDiv.innerHTML = '<p style="color: #999; text-align: center;">Your cart is empty</p>';
                    document.getElementById('cartTotal').textContent = 'R0';
                } else {
                    cartItemsDiv.innerHTML = this.state.cart.map(p => {
                        const priceInZAR = p.currency === 'USD' ? p.price * 18 : p.price;
                        return `
                            <div class="cart-item">
                                <div>
                                    <div style="margin-bottom: 3px; font-weight: 600;">${p.name}</div>
                                    <div style="color: #3b82f6; font-size: 12px;">${p.currency === 'USD' ? '$' : 'R'}${p.price} x ${p.quantity}</div>
                                </div>
                                <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px; border: none;" onclick="app.removeFromCart(${p.id})">Remove</button>
                            </div>
                        `;
                    }).join('');
                    document.getElementById('cartTotal').textContent = 'R' + (total % 1 === 0 ? total : total.toFixed(2));
                }
            }

            addToWishlist(product) {
                const existing = this.state.wishlist.find(p => p.id === product.id);
                if (!existing) {
                    this.state.wishlist.push(product);
                    alert('Added to wishlist! ‚ù§Ô∏è');
                } else {
                    alert('Already in your wishlist!');
                }
                this.updateWishlist();
            }

            updateWishlist() {
                const count = this.state.wishlist.length;
                document.getElementById('wishlistCount').textContent = count;
                document.getElementById('wishlistCount').style.display = count > 0 ? 'flex' : 'none';

                const wishlistItemsDiv = document.getElementById('wishlistItems');
                if (this.state.wishlist.length === 0) {
                    wishlistItemsDiv.innerHTML = '<p style="color: #999; text-align: center;">Your wishlist is empty</p>';
                } else {
                    wishlistItemsDiv.innerHTML = this.state.wishlist.map(p => {
                        const rating = this.state.productRatings[p.id];
                        return `
                            <div class="cart-item">
                                <div style="flex: 1;">
                                    <div style="margin-bottom: 3px; font-weight: 600;">${p.name}</div>
                                    <div style="color: #3b82f6; font-size: 12px;">${p.currency === 'USD' ? '$' : 'R'}${p.price}</div>
                                    ${rating ? `<div style="color: #f59e0b; font-size: 12px;">‚≠ê ${rating.rating} (${rating.reviews})</div>` : ''}
                                </div>
                                <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px; border: none; white-space: nowrap;" onclick="app.removeFromWishlist(${p.id})">Remove</button>
                            </div>
                        `;
                    }).join('');
                }
            }

            removeFromWishlist(productId) {
                this.state.wishlist = this.state.wishlist.filter(p => p.id !== productId);
                this.updateWishlist();
            }

            checkout() {
                if (this.state.cart.length === 0) {
                    alert('Your cart is empty');
                    return;
                }
                
                // Show order summary
                const summary = this.state.cart.map(item => {
                    const priceInZAR = item.currency === 'USD' ? item.price * 18 : item.price;
                    return `<div style="display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #eee;">
                        <span>${item.name} x${item.quantity}</span>
                        <span>${item.currency === 'USD' ? '$' : 'R'}${(item.price * item.quantity).toFixed(2)}</span>
                    </div>`;
                }).join('');
                
                const total = this.state.cart.reduce((sum, p) => {
                    const priceInZAR = p.currency === 'USD' ? p.price * 18 : p.price;
                    return sum + (priceInZAR * p.quantity);
                }, 0);
                
                const summaryHTML = summary + `<div style="padding: 10px 0; margin-top: 10px; border-top: 2px solid #333; font-weight: 600;">
                    <div style="display: flex; justify-content: space-between;">
                        <span>Total:</span>
                        <span>R${total.toFixed(2)}</span>
                    </div>
                </div>`;
                
                document.getElementById('checkoutSummary').innerHTML = summaryHTML;
                document.getElementById('paymentModal').classList.add('open');
            }

            submitCheckout() {
                const name = document.getElementById('checkoutName').value;
                const email = document.getElementById('checkoutEmail').value;
                const phone = document.getElementById('checkoutPhone').value;
                const company = document.getElementById('checkoutCompany').value;
                const message = document.getElementById('checkoutMessage').value;

                if (!name || !email || !phone || !company) {
                    alert('Please fill in all required fields');
                    return;
                }

                // Calculate total
                const total = this.state.cart.reduce((sum, p) => {
                    const priceInZAR = p.currency === 'USD' ? p.price * 18 : p.price;
                    return sum + (priceInZAR * p.quantity);
                }, 0);

                // Create order details
                const orderItems = this.state.cart.map(item => {
                    const priceInZAR = item.currency === 'USD' ? item.price * 18 : item.price;
                    return `‚Ä¢ ${item.name} (${item.quantity}x) - ${item.currency === 'USD' ? '$' : 'R'}${(item.price * item.quantity).toFixed(2)}`;
                }).join('\n');

                // Create email body
                const emailBody = `
NEW ORDER REQUEST FROM DHIVE
===========================

CUSTOMER DETAILS:
Name: ${name}
Email: ${email}
Phone: ${phone}
Company: ${company}

ORDER ITEMS:
${orderItems}

TOTAL: R${total.toFixed(2)}

SPECIAL REQUESTS/MESSAGE:
${message || 'None'}

---
Customer will be waiting for your response at: ${email}
Reply ASAP to close this sale!
                `.trim();

                // Create mailto link to your email
                const mailtoLink = `mailto:trevorbosch4@gmail.com?subject=NEW ORDER REQUEST - ${company}&body=${encodeURIComponent(emailBody)}`;

                // Open email client
                window.open(mailtoLink);

                alert('‚úÖ Order request opened in your email!\n\nReview and send to your email (trevorbosch4@gmail.com).\n\nThe customer will receive your contact shortly at: ' + email);
                
                // Clear cart and close modal
                this.state.cart = [];
                this.updateCart();
                document.getElementById('paymentModal').classList.remove('open');
                document.getElementById('cartPanel').classList.remove('open');
                
                // Clear form
                document.getElementById('checkoutForm').reset();
            }

            processPayment(method) {
                // Deprecated - using submitCheckout instead
            }

            viewProductDetails(product) {
                const modal = document.getElementById('productDetailModal');
                const content = document.getElementById('productDetailContent');

                // Special handling for B2B Sales Quote Manager - show email inquiry form
                if (product.id === 21) {
                    content.innerHTML = `
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div style="font-size: 60px; margin-bottom: 15px;">${product.icon}</div>
                            <h2 class="modal-title">${product.name}</h2>
                            <div style="color: #3b82f6; font-weight: 600; margin-bottom: 10px;">${product.category}</div>
                            <div style="font-size: 24px; font-weight: 700; color: #333; margin-bottom: 5px;">Price on Request</div>
                        </div>

                        <div class="product-detail-section">
                            <div class="product-detail-label">Description</div>
                            <div class="product-detail-text">${product.desc}</div>
                        </div>

                        <div class="product-detail-section">
                            <div class="product-detail-label">Compatible With</div>
                            <div class="integration-tags">
                                ${product.integrations.map(i => `<span class="integration-tag">${i}</span>`).join('')}
                            </div>
                        </div>

                        <div class="product-detail-section">
                            <div class="product-detail-label">üìã Interested? Fill the form below</div>
                            <form id="inquiryForm" style="display: flex; flex-direction: column; gap: 12px; margin-top: 15px;">
                                <input type="text" id="inquiryName" placeholder="Your Name" required style="padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                                <input type="email" id="inquiryEmail" placeholder="Your Email" required style="padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                                <input type="text" id="inquiryCompany" placeholder="Company Name" required style="padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                                <input type="text" id="inquiryPhone" placeholder="Phone Number" required style="padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px;">
                                <textarea id="inquiryMessage" placeholder="Tell us about your requirements..." rows="4" required style="padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 14px; font-family: inherit;"></textarea>
                            </form>
                        </div>

                        <div style="display: flex; gap: 12px; margin-top: 30px;">
                            <button class="btn-primary" style="flex: 1; padding: 15px; border: none; border-radius: 6px;" onclick="app.sendInquiry({id: ${product.id}, name: '${product.name}', integrations: ${JSON.stringify(product.integrations)}})">Send Inquiry</button>
                            <button class="btn-secondary" style="flex: 1; padding: 15px; border: 2px solid #e0e0e0;" onclick="document.getElementById('productDetailModal').classList.remove('open');">Close</button>
                        </div>
                    `;
                } else {
                    // Regular product details view
                    content.innerHTML = `
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div style="font-size: 60px; margin-bottom: 15px;">${product.icon}</div>
                            <h2 class="modal-title">${product.name}</h2>
                            <div style="color: #3b82f6; font-weight: 600; margin-bottom: 10px;">${product.category}</div>
                            <div style="font-size: 24px; font-weight: 700; color: #333; margin-bottom: 5px;">
                                ${product.price === 0 ? '<span class="free-badge">‚úÖ FREE</span>' : `${product.currency === 'USD' ? '$' : 'R'}${product.price}${product.special && product.originalPrice ? `<span class="product-original-price">was ${product.originalPrice}</span>` : ''}`}
                            </div>
                        </div>

                        <div class="product-detail-section">
                            <div class="product-detail-label">Description</div>
                            <div class="product-detail-text">${product.desc}</div>
                        </div>

                        <div class="product-detail-section">
                            <div class="product-detail-label">Compatible With</div>
                            <div class="integration-tags">
                                ${product.integrations.map(i => `<span class="integration-tag">${i}</span>`).join('')}
                            </div>
                        </div>

                        <div class="product-detail-section">
                            <div class="product-detail-label">Seller</div>
                            <div class="product-detail-text">${product.seller}</div>
                        </div>

                        <div style="display: flex; gap: 12px; margin-top: 30px;">
                            <button class="btn-primary" style="flex: 1; padding: 15px; border: none; border-radius: 6px;" onclick="app.addToCart({id: ${product.id}, name: '${product.name}', price: ${product.price}, currency: '${product.currency}')}); alert('Added to cart!'); document.getElementById('productDetailModal').classList.remove('open');">Add to Cart</button>
                            <button class="btn-secondary" style="flex: 1; padding: 15px; border: 2px solid #e0e0e0;" onclick="document.getElementById('productDetailModal').classList.remove('open');">Close</button>
                        </div>
                    `;
                }

                modal.classList.add('open');
            }

            sendInquiry(product) {
                const name = document.getElementById('inquiryName').value;
                const email = document.getElementById('inquiryEmail').value;
                const company = document.getElementById('inquiryCompany').value;
                const phone = document.getElementById('inquiryPhone').value;
                const message = document.getElementById('inquiryMessage').value;

                if (!name || !email || !company || !phone || !message) {
                    alert('Please fill in all fields');
                    return;
                }

                // Create email body
                const emailBody = `
NEW PRODUCT INQUIRY
==================

Product: ${product.name}
Integrations: ${product.integrations.join(', ')}

CUSTOMER DETAILS:
Name: ${name}
Email: ${email}
Company: ${company}
Phone: ${phone}

MESSAGE:
${message}

---
Reply to: ${email}
                `.trim();

                // Create mailto link
                const mailtoLink = `mailto:trevorbosch@boschtech.co.za?subject=NEW INQUIRY: ${product.name}&body=${encodeURIComponent(emailBody)}`;

                // Open email client
                window.open(mailtoLink);

                alert('‚úÖ Email client opened!\n\nReview the inquiry and send it to complete.\n\nThe customer will receive your response at: ' + email);
                document.getElementById('productDetailModal').classList.remove('open');
            }

            filterProducts() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                const filtered = PRODUCTS.filter(p => 
                    p.name.toLowerCase().includes(searchTerm) ||
                    p.category.toLowerCase().includes(searchTerm) ||
                    p.desc.toLowerCase().includes(searchTerm)
                );
                document.getElementById('productsGrid').innerHTML = filtered.map(p => this.renderProductCard(p)).join('');
            }

            renderProductCard(product) {
                const priceDisplay = product.price === 0 ? '‚úÖ FREE' : `${product.currency === 'USD' ? '$' : 'R'}${product.price}`;
                const rating = this.state.productRatings[product.id];
                return `
                    <div class="product-card" onclick="app.viewProductDetails({id: ${product.id}, name: '${product.name}', category: '${product.category}', price: ${product.price}, currency: '${product.currency}', icon: '${product.icon}', desc: '${product.desc}', seller: '${product.seller}', integrations: ${JSON.stringify(product.integrations)}, special: ${product.special}, originalPrice: ${product.originalPrice || 0}})">
                        ${product.trending ? '<div class="product-badge trending">üî• Trending</div>' : ''}
                        ${product.premium ? '<div class="product-badge premium">‚≠ê Premium</div>' : ''}
                        ${product.special && product.originalPrice ? '<div class="product-badge special">SPECIAL</div>' : ''}
                        <div class="product-icon">${product.icon}</div>
                        <div class="product-name">${product.name}</div>
                        <div class="product-category">${product.category}</div>
                        <div class="product-desc">${product.desc}</div>
                        ${rating ? `<div style="color: #f59e0b; font-size: 12px; margin-bottom: 8px;">‚≠ê ${rating.rating} (${rating.reviews} reviews)</div>` : ''}
                        <div class="product-price">
                            ${priceDisplay}
                            ${product.special && product.originalPrice ? `<span class="product-original-price">was R${product.originalPrice}</span>` : ''}
                        </div>
                        <div class="product-seller">${product.seller}</div>
                        <div class="product-actions">
                            <button class="btn-primary" style="border: none; flex: 0 0 70%;" onclick="event.stopPropagation(); app.addToCart({id: ${product.id}, name: '${product.name}', price: ${product.price}, currency: '${product.currency}'}); alert('Added to cart!')">Add</button>
                            <button class="btn-secondary" style="border: none; flex: 1; font-size: 16px; padding: 10px 0;" onclick="event.stopPropagation(); app.addToWishlist({id: ${product.id}, name: '${product.name}', price: ${product.price}, currency: '${product.currency}'})">‚ù§Ô∏è</button>
                        </div>
                    </div>
                `;
            }

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            renderMarketplace() {
                return `
                    <div class="header">
                        <h1>Welcome to DHIVE</h1>
                        <p>Discover AI tools, courses, templates & more</p>
                    </div>

                    <div class="filter-bar">
                        <select class="filter-select" onchange="app.filterByCategory(this.value)">
                            <option value="">All Categories</option>
                            <option value="AI & Automation">AI & Automation</option>
                            <option value="Templates">Templates</option>
                            <option value="Online Courses">Online Courses</option>
                            <option value="Ebooks">Ebooks</option>
                            <option value="Plugins">Plugins</option>
                            <option value="Subscriptions">Subscriptions</option>
                            <option value="Free Tools">Free Tools</option>
                        </select>
                        <select class="filter-select" onchange="app.filterByPrice(this.value)">
                            <option value="">All Prices</option>
                            <option value="free">Free</option>
                            <option value="0-500">R0 - R500</option>
                            <option value="500-2000">R500 - R2,000</option>
                            <option value="2000+">R2,000+</option>
                            <option value="premium">Premium (USD)</option>
                        </select>
                    </div>

                    <div class="products-grid" id="productsGrid">
                        ${PRODUCTS.map(p => this.renderProductCard(p)).join('')}
                    </div>
                `;
            }

            filterByCategory(category) {
                let filtered = PRODUCTS;
                if (category) {
                    filtered = filtered.filter(p => p.category === category);
                }
                document.getElementById('productsGrid').innerHTML = filtered.map(p => this.renderProductCard(p)).join('');
            }

            filterByPrice(range) {
                let filtered = PRODUCTS;
                if (range === 'free') {
                    filtered = filtered.filter(p => p.price === 0);
                } else if (range === '0-500') {
                    filtered = filtered.filter(p => p.currency === 'ZAR' && p.price > 0 && p.price <= 500);
                } else if (range === '500-2000') {
                    filtered = filtered.filter(p => p.currency === 'ZAR' && p.price >= 500 && p.price <= 2000);
                } else if (range === '2000+') {
                    filtered = filtered.filter(p => p.currency === 'ZAR' && p.price > 2000);
                } else if (range === 'premium') {
                    filtered = filtered.filter(p => p.currency === 'USD');
                }
                document.getElementById('productsGrid').innerHTML = filtered.map(p => this.renderProductCard(p)).join('');
            }

            renderSell() {
                if (!this.state.user) {
                    return `
                        <div class="header">
                            <h1>Sell Your Items</h1>
                            <p>Reach thousands of buyers - earn 85-90% commission</p>
                        </div>
                        <div class="login-form">
                            <p style="color: #999; text-align: center; margin-bottom: 20px;">Login to access seller dashboard</p>
                            <button class="btn-primary" style="width: 100%; padding: 15px; border: none;" onclick="app.setState({page: 'login'})">Login / Sign Up</button>
                        </div>
                    `;
                }

                // Seller Dashboard
                const totalSales = Math.floor(Math.random() * 50000) + 5000;
                const totalProducts = this.state.userProducts.length;
                const monthlyEarnings = (totalSales * 0.85).toFixed(2);

                return `
                    <div class="header">
                        <h1>Seller Dashboard</h1>
                        <p>Manage your products and earnings</p>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
                        <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 32px; font-weight: 700; margin-bottom: 5px;">R${totalSales.toLocaleString()}</div>
                            <div style="font-size: 14px; opacity: 0.9;">Total Sales</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 32px; font-weight: 700; margin-bottom: 5px;">R${monthlyEarnings}</div>
                            <div style="font-size: 14px; opacity: 0.9;">Monthly Earnings (85%)</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 32px; font-weight: 700; margin-bottom: 5px;">${totalProducts}</div>
                            <div style="font-size: 14px; opacity: 0.9;">Products Listed</div>
                        </div>
                    </div>

                    <div style="background: white; border: 2px solid #e0e0e0; border-radius: 12px; padding: 25px;">
                        <h2 style="margin-bottom: 20px; color: #333;">Your Products</h2>
                        <div style="max-height: 400px; overflow-y: auto;">
                            ${this.state.userProducts.length > 0 ? `
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr style="border-bottom: 2px solid #e0e0e0;">
                                            <th style="text-align: left; padding: 10px; color: #333;">Product</th>
                                            <th style="text-align: left; padding: 10px; color: #333;">Price</th>
                                            <th style="text-align: left; padding: 10px; color: #333;">You Earn</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${this.state.userProducts.map(p => `
                                            <tr style="border-bottom: 1px solid #e0e0e0;">
                                                <td style="padding: 12px; color: #333;">${p.name}</td>
                                                <td style="padding: 12px; color: #666;">R${p.price}</td>
                                                <td style="padding: 12px; color: #10b981; font-weight: 600;">R${(p.price * 0.85).toFixed(2)}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            ` : '<p style="color: #999; text-align: center;">No products yet. Add your first product!</p>'}
                        </div>
                    </div>

                    <div style="margin-top: 30px;">
                        <button class="btn-primary" style="width: 100%; padding: 15px; border: none; cursor: pointer;">+ List New Product</button>
                    </div>
                `;
            }

            renderBuild() {
                return `
                    <div class="header">
                        <h1>Build Your AI Tool</h1>
                        <p>Create and sell your AI solutions</p>
                    </div>
                    <div class="login-form">
                        <p style="color: #999; text-align: center;">Build with Claude's help</p>
                    </div>
                `;
            }

            renderSupport() {
                return `
                    <div class="header">
                        <h1>Support & Implementation</h1>
                        <p>Expert help implementing AI solutions</p>
                    </div>
                    <div class="login-form">
                        <div class="form-group">
                            <label>Company/User Name</label>
                            <input type="text" placeholder="Your company">
                        </div>
                        <div class="form-group">
                            <label>What do you want to achieve?</label>
                            <textarea placeholder="Describe your goal"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Strategy call?</label>
                            <select>
                                <option>Yes - Let's discuss</option>
                                <option>No - Just recommendations</option>
                                <option>Maybe - Show options</option>
                            </select>
                        </div>
                        <button class="btn-primary" style="width: 100%; padding: 15px; border: none;">Submit</button>
                    </div>
                `;
            }

            renderLogin() {
                return `
                    <div class="header">
                        <h1>Welcome to DHIVE</h1>
                        <p>Sign in or create an account to get started</p>
                    </div>

                    <div class="login-form">
                        <div class="form-tabs">
                            <button class="active" id="loginTab" onclick="app.switchTab('login')">Sign In</button>
                            <button id="signupTab" onclick="app.switchTab('signup')">Create Account</button>
                        </div>

                        <!-- Sign In Form -->
                        <div id="loginForm">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="loginEmail" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" id="loginPassword" placeholder="Password">
                            </div>
                            <button class="btn-primary" style="width: 100%; padding: 15px; border: none; cursor: pointer;" onclick="app.handleLogin()">Sign In</button>
                        </div>

                        <!-- Sign Up Form -->
                        <div id="signupForm" style="display: none;">
                            <div class="form-group">
                                <label>Full Name</label>
                                <input type="text" id="signupName" placeholder="Your full name">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="signupEmail" placeholder="your@email.com">
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" id="signupPassword" placeholder="Password">
                            </div>
                            <button class="btn-primary" style="width: 100%; padding: 15px; border: none; cursor: pointer;" onclick="app.handleSignup()">Create Account</button>
                        </div>
                    </div>
                `;
            }

            switchTab(tab) {
                const loginTab = document.getElementById('loginTab');
                const signupTab = document.getElementById('signupTab');
                const loginForm = document.getElementById('loginForm');
                const signupForm = document.getElementById('signupForm');

                if (tab === 'login') {
                    loginTab.classList.add('active');
                    signupTab.classList.remove('active');
                    loginForm.style.display = 'block';
                    signupForm.style.display = 'none';
                } else {
                    loginTab.classList.remove('active');
                    signupTab.classList.add('active');
                    loginForm.style.display = 'none';
                    signupForm.style.display = 'block';
                }
            }

            handleLogin() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!email || !password) {
                    alert('Please fill in all fields');
                    return;
                }

                const name = email.split('@')[0];
                this.state.user = { name, email };
                this.setState({ page: 'marketplace' });
            }

            handleSignup() {
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                
                if (!name || !email || !password) {
                    alert('Please fill in all fields');
                    return;
                }

                this.state.user = { name, email };
                alert(`‚úÖ Welcome to DHIVE, ${name}!`);
                this.setState({ page: 'marketplace' });
            }

            render() {
                const app = document.getElementById('app');
                const { page } = this.state;

                if (page === 'marketplace') {
                    app.innerHTML = this.renderMarketplace();
                } else if (page === 'sell') {
                    app.innerHTML = this.renderSell();
                } else if (page === 'build') {
                    app.innerHTML = this.renderBuild();
                } else if (page === 'support') {
                    app.innerHTML = this.renderSupport();
                } else if (page === 'login') {
                    app.innerHTML = this.renderLogin();
                }
                this.updateUserDisplay();
            }
        }

        const app = new DHIVEApp();
    </script>
</body>
</html>